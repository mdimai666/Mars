@using AppFront.Shared.Components
@using Microsoft.FluentUI.AspNetCore.Components
@inherits NodeEditForm
@attribute [NodeEditFormForNode(typeof(CallNode))]

<div class="form-group d-flex flex-column flex-fill">
    <FormItem2 For="() => Node.Timeout">
        <FluentNumberField @bind-Value=timeoutMillis Class="" Min="0" />
    </FormItem2>
</div>

@code {
    [CascadingParameter] Node? Value { get; set; }
    CallNode Node { get => (CallNode)Value!; set => Value = value; }

    int timeoutMillis { get => Node.Timeout.Milliseconds; set => OnValueChanged(value); }

    void OnValueChanged(int millis)
    {
        Node.Timeout = TimeSpan.FromMilliseconds(millis);
    }
}
