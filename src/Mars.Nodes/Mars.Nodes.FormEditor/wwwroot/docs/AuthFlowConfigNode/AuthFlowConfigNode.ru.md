# AuthFlowConfigNode

–ù–æ–¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤/–∫—É–∫/–∫–ª—é—á–µ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É API.

---

#### üîë –†–µ–∂–∏–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`AuthFlowNodeMode`)

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ |
|-------|----------|----------------------|
| `BearerToken` | OAuth 2.0 Client Credentials Flow ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ `/token` —ç–Ω–¥–ø–æ–∏–Ω—Ç | `TokenUrl`, `ClientId`, `ClientSecret`, `Scope`, `TimeoutSeconds` |
| `CookieForm` | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ HTML-—Ñ–æ—Ä–º—É (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å) —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –∫—É–∫ | `LoginPageUrl`, `Username`, `Password`, `FollowRedirects`, `TimeoutSeconds` |
| `CookieEndpoint` | –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É–∫ (–±–µ–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML) | `CookieEndpointConfig`, `TimeoutSeconds` |
| `ApiKey` | –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ API-–∫–ª—é—á–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ | `ApiKey`, `ApiKeyHeaderName` |
| `Custom` | –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ | `CustomType`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é |

---

#### ‚öôÔ∏è –°–≤–æ–π—Å—Ç–≤–∞ –Ω–æ–¥—ã

##### –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------------------|----------|
| `Mode` | `AuthFlowNodeMode` | `BearerToken` | –†–µ–∂–∏–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `CustomType` | `string?` | `null` | –ü–æ–ª–Ω–æ–µ –∏–º—è —Ç–∏–ø–∞ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏ `Mode = Custom`) |
| `Username` | `string?` | `null` | –õ–æ–≥–∏–Ω –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ `CookieForm` / `Basic` |
| `Password` | `string?` | `null` | –ü–∞—Ä–æ–ª—å –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ `CookieForm` / `Basic` |
| `TimeoutSeconds` | `int` | `30` | –¢–∞–π–º–∞—É—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) |

##### Bearer Token (OAuth 2.0)
| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------------------|----------|
| `TokenUrl` | `string?` | `null` | URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –≤—ã–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://auth.example.com/oauth/token`) |
| `ClientId` | `string?` | `null` | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ |
| `ClientSecret` | `string?` | `null` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞ |
| `Scope` | `string` | `"openid email"` | –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª) |

> **–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:** `POST /token` —Å `application/x-www-form-urlencoded`:
> ```
> grant_type=client_credentials&client_id=...&client_secret=...&scope=...
> ```

##### Cookie Form (HTML-—Ñ–æ—Ä–º–∞)
| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------------------|----------|
| `LoginPageUrl` | `string?` | `null` | URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://app.example.com/login`) |
| `FollowRedirects` | `bool` | `true` | –°–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –∫—É–∫ |

> **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ù–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç HTML-—Ñ–æ—Ä–º—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—è `username`/`password`, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç `Set-Cookie` –∏–∑ –æ—Ç–≤–µ—Ç–∞.

##### Cookie Endpoint (API)
| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `CookieEndpointConfig` | `AuthFlowCookieEndpointConfig` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä—è–º–æ–≥–æ API-–≤—ã–∑–æ–≤–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É–∫ |

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±–µ–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML.

```csharp
public class AuthFlowCookieEndpointConfig
```

| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------------------|----------|
| `LoginEndpointUrl` | `string` | `""` | URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) |
| `UsernameFieldName` | `string` | `"username"` | –ò–º—è –ø–æ–ª—è –¥–ª—è –ª–æ–≥–∏–Ω–∞ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ |
| `PasswordFieldName` | `string` | `"password"` | –ò–º—è –ø–æ–ª—è –¥–ª—è –ø–∞—Ä–æ–ª—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ |
| `AdditionalFields` | `Dictionary<string, string>` | `[]` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ |
| `ContentType` | `AuthFlowLoginEndpointContentType` | `FormData` | –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ |
| `LoginHeaders` | `Dictionary<string, string>` | `[]` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ |
| `HealthCheckUrl` | `string?` | `null` | URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏ |
| `AuthCookieName` | `string?` | `null` | –ò–º—è –∫—É–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ) |
| `FollowRedirects` | `bool` | `true` | –°–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ |

###### üìã `AuthFlowLoginEndpointContentType`

–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

```csharp
public enum AuthFlowLoginEndpointContentType
```

| –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | –§–æ—Ä–º–∞—Ç —Ç–µ–ª–∞ |
|----------|----------|--------------|-------------|
| `FormData` | URL-encoded —Ñ–æ—Ä–º–∞ | `application/x-www-form-urlencoded` | `username=admin&password=123` |
| `Json` | JSON –æ–±—ä–µ–∫—Ç | `application/json` | `{"username":"admin","password":"123"}` |
| `Multipart` | Multipart —Ñ–æ—Ä–º–∞ | `multipart/form-data` | –ì—Ä–∞–Ω–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å —Ñ–∞–π–ª–∞–º–∏ |

---

##### API Key
| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------------------|----------|
| `ApiKey` | `string?` | `null` | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ |
| `ApiKeyHeaderName` | `string` | `"X-API-Key"` | –ò–º—è HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∫–ª—é—á–∞ |

---

#### üîÅ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

1. –ü–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –Ω–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π flow —Å–æ–≥–ª–∞—Å–Ω–æ `Mode`
2. –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω/–∫—É–∫–∏/–∫–ª—é—á) –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–∏
3. –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞ (401 Unauthorized) ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ñ—Ä–µ—à
4. –í—Å–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —É—á–∏—Ç—ã–≤–∞—é—Ç `TimeoutSeconds`
5. –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–æ–º

---
